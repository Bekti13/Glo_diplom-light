(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),n=document.querySelectorAll(".callback-btn"),l=document.querySelector(".modal-close"),o=document.querySelector(".button-services"),r=document.querySelectorAll(".fancyboxModal"),s=function(){e.style.display="block",t.style.display="block"},a=function(){e.style.display="none",t.style.display="none"};n.forEach((e=>{e.addEventListener("click",s)})),o.addEventListener("click",s),r.forEach((e=>{e.addEventListener("click",s)})),l.addEventListener("click",a),t.addEventListener("click",a)})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{if(e.target.closest(".element")){let l=e.target.closest(".element");t.forEach(((e,t)=>{e===l?(e.classList.add("active"),n[t].style.display="block"):(e.classList.remove("active"),n[t].style.display="none")}))}}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),n=document.querySelectorAll(".table");document.querySelectorAll(".text"),e.insertAdjacentHTML("beforeEnd","\n    <style>\n        .top-slider .item.relative.active {\n            opacity: 1;\n            z-index: 3;\n        }\n        \n        .top-slider .item.relative {\n            opacity: 0;\n            transition: all 200ms ease-out;\n            position: absolute;\n            z-index: 1;\n            top: 0;\n            left: 0;\n            width: 100%;\n        }\n    "),n[0].classList.add("active"),t[0].classList.add("active");let l=0;const o=(e,t,n)=>{e[t].classList.remove(n)},r=(e,t,n)=>{e[t].classList.add(n)};setInterval((()=>{o(n,l,"active"),o(t,l,"active"),l++,l>=n.length&&(l=0),r(n,l,"active"),r(t,l,"active")}),3e3)})(),window.addEventListener("load",(()=>{const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");let n=document.querySelector(".services-carousel"),l=0;n.insertAdjacentHTML("beforeEnd","\n    <style> \n    \n    .services-elements {\n        display: flex;\n        width: 100%;\n        height: 460px;\n        margin: auto;\n        overflow: hidden;\n    }\n    .services-carousel .element {\n        display: block;\n        width: 100%;\n        \n    }\n    .services-carousel {\n        display: flex;\n        \n    }\n    .transformAnimation {\n        transition: .4s all ease-in-out;\n    }\n    .col-md-4 {\n        width: 400px;\n    }\n    .services-elements .title-h5 {\n        margin-bottom: 45px;\n    }\n    .services-elements .element-price {\n        margin-top: -48px;\n       \n    }\n    "),n.style.transform="translateX("+-400*l+"px)",t.addEventListener("click",(()=>{document.documentElement.clientWidth>768?(l>=3&&(l=-1),n.classList.add("transformAnimation"),l++,n.style.transform="translateX("+-400*l+"px)"):(l>=5&&(l=-1),n.classList.add("transformAnimation"),l++,n.style.transform="translateX("+-400*l+"px)")})),e.addEventListener("click",(()=>{document.documentElement.clientWidth>768?(l<=0&&(l=4),n.classList.add("transformAnimation"),l--,n.style.transform="translateX("+-400*l+"px)"):(l<=0&&(l=6),n.classList.add("transformAnimation"),l--,n.style.transform="translateX("+-400*l+"px)")}))})),(()=>{const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const n=t.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".up");window.addEventListener("scroll",(()=>{pageYOffset>560?t.style.display="block":t.style.display="none"})),t.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),(()=>{const e=document.querySelector(".form-control");document.querySelector(".form-group > .required").addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9\+]/gi,"")})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-я]/gi,"")}))})(),(({formId:e})=>{const t=document.querySelector(e),n=document.createElement("div");let l=/[^0-9\+]/g,o=/[^А-Яа-я\s]/g;try{if(!t)throw new Error("В форме критическая ошибка!");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),s={};var a;n.textContent="Идет отправка..",t.append(n),r.forEach(((e,t)=>{s[t]=e})),(e=>{let t=!0;return e.forEach((e=>{switch(""===e.value&&(t=!1),!0){case"tel"===e.name:(l.test(e.value)||e.value.length<6||e.value.length>17)&&(t=!1,e.classList.add("error")),e.addEventListener("input",(()=>{e.value.length>6?e.classList.remove("error"):e.value.length<6&&e.classList.add("error")}));break;case"fio"===e.name:(o.test(e.value)||e.value.length<2)&&(t=!1,e.classList.add("error")),e.addEventListener("input",(()=>{e.value.length>2?e.classList.remove("error"):e.value.length<2&&e.classList.add("error")}))}})),t})(e)?(a=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{n.textContent="Данные отправлены!",n.style.color="red",e.forEach((e=>{"submit"!==e.type&&(e.value="")})),setTimeout((function(){n.textContent="",n.style.color="black"}),2e3)})).catch((e=>{n.textContent="Ошибка..."})):e.forEach((e=>{n.textContent=""}))})()}))}catch(e){console.log(e.message)}})({formId:"[name=form-callback]"})})();