(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),n=document.querySelectorAll(".callback-btn"),o=document.querySelector(".modal-close"),l=document.querySelector(".button-services"),r=document.querySelectorAll(".fancyboxModal"),c=function(){e.style.display="block",t.style.display="block"},s=function(){e.style.display="none",t.style.display="none"};n.forEach((e=>{e.addEventListener("click",c)})),l.addEventListener("click",c),r.forEach((e=>{e.addEventListener("click",c)})),o.addEventListener("click",s),t.addEventListener("click",s)})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{if(e.target.closest(".element")){let o=e.target.closest(".element");t.forEach(((e,t)=>{e===o?(e.classList.add("active"),n[t].style.display="block"):(e.classList.remove("active"),n[t].style.display="none")}))}}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),n=document.querySelectorAll(".table");document.querySelectorAll(".text"),e.insertAdjacentHTML("beforeEnd","\n    <style>\n        .top-slider .item.relative.active {\n            opacity: 1;\n            z-index: 3;\n        }\n        \n        .top-slider .item.relative {\n            opacity: 0;\n            transition: all 200ms ease-out;\n            position: absolute;\n            z-index: 1;\n            top: 0;\n            left: 0;\n            width: 100%;\n        }\n    "),n[0].classList.add("active"),t[0].classList.add("active");let o=0;const l=(e,t,n)=>{e[t].classList.remove(n)},r=(e,t,n)=>{e[t].classList.add(n)};setInterval((()=>{l(n,o,"active"),l(t,o,"active"),o++,o>=n.length&&(o=0),r(n,o,"active"),r(t,o,"active")}),3e3)})(),window.addEventListener("load",(()=>{const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");let n=document.querySelector(".services-carousel"),o=0;n.insertAdjacentHTML("beforeEnd","\n    <style> \n    \n    .services-elements {\n        display: flex;\n        width: 100%;\n        height: 460px;\n        margin: auto;\n        overflow: hidden;\n    }\n    .services-carousel .element {\n        display: block;\n        width: 100%;\n        \n    }\n    .services-carousel {\n        display: flex;\n        \n    }\n    .transformAnimation {\n        transition: .4s all ease-in-out;\n    }\n    .col-md-4 {\n        width: 400px;\n    }\n    .services-elements .title-h5 {\n        margin-bottom: 45px;\n    }\n    .services-elements .element-price {\n        margin-top: -48px;\n       \n    }\n    "),n.style.transform="translateX("+-400*o+"px)",t.addEventListener("click",(()=>{document.documentElement.clientWidth>768?(o>=3&&(o=-1),n.classList.add("transformAnimation"),o++,n.style.transform="translateX("+-400*o+"px)"):(o>=5&&(o=-1),n.classList.add("transformAnimation"),o++,n.style.transform="translateX("+-400*o+"px)")})),e.addEventListener("click",(()=>{document.documentElement.clientWidth>768?(o<=0&&(o=4),n.classList.add("transformAnimation"),o--,n.style.transform="translateX("+-400*o+"px)"):(o<=0&&(o=6),n.classList.add("transformAnimation"),o--,n.style.transform="translateX("+-400*o+"px)")}))})),(()=>{const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const n=t.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".up");window.addEventListener("scroll",(()=>{pageYOffset>560?t.style.display="block":t.style.display="none"})),t.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),(()=>{const e=document.querySelector(".form-control");document.querySelector(".form-group > .required").addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9\+]/gi,"")})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-я]/gi,"")}))})(),(({formId:e})=>{const t=document.querySelector(e),n=document.createElement("div");let o=/[^0-9\+]/g,l=/[^А-Яа-я\s]/g;try{if(!t)throw new Error("В форме критическая ошибка!");t.addEventListener("submit",(e=>{e.preventDefault(),console.log(e.target),(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),c={};var s;n.textContent="Идет отправка..",t.append(n),r.forEach(((e,t)=>{c[t]=e})),(e=>{let t=!0;return e.forEach((e=>{switch(""===e.value&&(t=!1),!0){case"tel"===e.name:o.test(e.value)&&(t=!1);break;case"fio"===e.name:l.test(e.value)&&(t=!1)}})),t})(e)?(s=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{n.textContent="Данные отправлены!",n.style.color="red",e.forEach((e=>{"submit"!==e.type&&(e.value="")})),setTimeout((function(){n.textContent="",n.style.color="black"}),2e3)})).catch((e=>{n.textContent="Ошибка..."})):(alert("Данные не валидны, заполните все поля формы!"),e.forEach((e=>{n.textContent=""})))})()}))}catch(e){console.log(e.message)}})({formId:"[name=form-callback]"})})();